{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/home/gabriel/Documents/Desarrollo/SGSAR/Mobil/mobil/src/screens/SignInScreen.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport * as Facebook from 'expo-facebook';\nimport * as Animatable from 'react-native-animatable';\nimport { useDispatch } from 'react-redux';\nimport Loader from \"../components/loader\";\nimport { SocialIcon } from 'react-native-elements';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Images from \"../constants/Images\";\n\nvar _Dimensions$get = Dimensions.get('screen'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar SignInScreen = function SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      isLoading = _useState2[1];\n\n  var dispatch = useDispatch();\n\n  var signUpFacebook = function signUpFacebook() {\n    var _await$Facebook$logIn, type, token, response, data, jsonUserToken, message;\n\n    return _regeneratorRuntime.async(function signUpFacebook$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Facebook.initializeAsync({\n              appId: \"381555326913339\"\n            }));\n\n          case 3:\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(Facebook.logInWithReadPermissionsAsync({\n              permissions: ['public_profile', 'email'],\n              behavior: 'web'\n            }));\n\n          case 5:\n            _await$Facebook$logIn = _context.sent;\n            type = _await$Facebook$logIn.type;\n            token = _await$Facebook$logIn.token;\n\n            if (!(type === \"success\")) {\n              _context.next = 22;\n              break;\n            }\n\n            _context.next = 11;\n            return _regeneratorRuntime.awrap(fetch(\"https://graph.facebook.com/me?fields=id,name,picture.type(large),email&access_token=\" + token));\n\n          case 11:\n            response = _context.sent;\n            _context.next = 14;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 14:\n            data = _context.sent;\n            jsonUserToken = JSON.stringify(data.id);\n            AsyncStorage.setItem('@userToken', jsonUserToken);\n            AsyncStorage.setItem('@userLogin', JSON.stringify(data));\n            dispatch({\n              type: 'SET_USER',\n              response: data\n            });\n            dispatch({\n              type: 'SET_TOKEN',\n              token: jsonUserToken\n            });\n            _context.next = 23;\n            break;\n\n          case 22:\n            console.log('else');\n\n          case 23:\n            _context.next = 29;\n            break;\n\n          case 25:\n            _context.prev = 25;\n            _context.t0 = _context[\"catch\"](0);\n            message = _context.t0.message;\n            alert(\"Facebook Login Error: \" + message);\n\n          case 29:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 25]], Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles._header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, \"sdsd\")), React.createElement(View, {\n    style: styles._body,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: styles.imagen,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, React.createElement(Image, {\n    source: Images.iconLogo,\n    style: {\n      height: '100%',\n      width: '60%',\n      zIndex: 1\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.titulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.txt_titulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"Bienvenido a Sari\")), React.createElement(View, {\n    style: styles.titulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.txt_subtitulo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Busca el mejor seguro para tu veh\\xEDculo\")), React.createElement(Animatable.View, {\n    animation: \"fadeInUpBig\",\n    style: styles.subcontainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, React.createElement(SocialIcon, {\n    title: \"Iniciar sesi\\xF3n con Facebook\",\n    button: true,\n    type: \"facebook\",\n    onPress: signUpFacebook,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default SignInScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff'\n  },\n  _header: {\n    height: height / 4\n  },\n  _body: {\n    height: height / 1.45\n  },\n  imagen: {\n    height: 280,\n    alignContent: 'center',\n    alignItems: 'center',\n    padding: 5\n  },\n  titulo: {\n    marginTop: 5,\n    height: 50,\n    alignItems: 'center',\n    paddingTop: 10\n  },\n  txt_titulo: {\n    fontSize: 25,\n    color: '#8b8b8b'\n  },\n  txt_subtitulo: {\n    fontSize: 17,\n    color: '#8b8b8b'\n  }\n});","map":{"version":3,"sources":["/home/gabriel/Documents/Desarrollo/SGSAR/Mobil/mobil/src/screens/SignInScreen.js"],"names":["React","useState","Facebook","Animatable","useDispatch","Loader","SocialIcon","AsyncStorage","Images","Dimensions","get","width","height","SignInScreen","navigation","loading","isLoading","dispatch","signUpFacebook","initializeAsync","appId","logInWithReadPermissionsAsync","permissions","behavior","type","token","fetch","response","json","data","jsonUserToken","JSON","stringify","id","setItem","console","log","message","alert","styles","container","_header","_body","imagen","iconLogo","zIndex","titulo","txt_titulo","txt_subtitulo","subcontainer","StyleSheet","create","flex","backgroundColor","alignContent","alignItems","padding","marginTop","paddingTop","fontSize","color"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { \n    View, \n    Text,     \n    Platform,\n    StyleSheet,\n    Image, Dimensions\n} from 'react-native';\nimport * as Facebook from 'expo-facebook';\nimport * as Animatable from 'react-native-animatable';\nimport { useDispatch } from 'react-redux'\nimport Loader from '../components/loader';\nimport { SocialIcon } from 'react-native-elements'\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport Images from '../constants/Images'\nconst { width, height } = Dimensions.get('screen');\n\n\n\nconst SignInScreen = ({navigation}) => {\n    const [loading, isLoading] = useState(false);\n\n\n    const dispatch = useDispatch()\n    \n\nconst signUpFacebook = async () => {        \n    try {\n      await Facebook.initializeAsync({\n      appId: \"381555326913339\"\n    });\n      const { \n        type, \n        token       \n      }  = await Facebook.logInWithReadPermissionsAsync({\n        permissions: ['public_profile', 'email'],\n        behavior: 'web'\n      })\n      if (type === \"success\") {\n       const response = await fetch(`https://graph.facebook.com/me?fields=id,name,picture.type(large),email&access_token=${token}`); \n       const data = await response.json();       \n       const jsonUserToken = JSON.stringify(data.id) \n        AsyncStorage.setItem('@userToken', jsonUserToken)\n        AsyncStorage.setItem('@userLogin', JSON.stringify(data))         \n        dispatch({type:'SET_USER',response: data})\n        dispatch({ type: 'SET_TOKEN', token: jsonUserToken }) \n      } else {       \n        console.log('else')\n      }\n    } catch ({ message }) {\n      alert(`Facebook Login Error: ${message}`);\n    }\n  };\n\n  \n\n\n    return (\n      <View style={styles.container}> \n        <View style={styles._header}> \n        <Text>sdsd</Text>\n        </View>\n        <View style={styles._body}> \n          <View style={styles.imagen}>\n            <Image source={Images.iconLogo} style={{ height:'100%', width:'60%', zIndex: 1 }} />  \n          </View>\n          <View style={styles.titulo}>\n            <Text style={styles.txt_titulo}>Bienvenido a Sari</Text>\n          </View>\n          <View style={styles.titulo}>\n            <Text style={styles.txt_subtitulo}>\n              Busca el mejor seguro para tu vehículo\n            </Text>\n          </View> \n          <Animatable.View animation=\"fadeInUpBig\" style={styles.subcontainer}>                  \n            <SocialIcon\n              title='Iniciar sesión con Facebook'\n              button\n              type='facebook'\n              onPress={signUpFacebook}/>\n          </Animatable.View>\n        </View>  \n      </View>\n    );\n};\n\nexport default SignInScreen;\n\nconst styles = StyleSheet.create({\n    container: {\n      flex: 1, \n      backgroundColor: '#fff',            \n    },\n    _header: {\n      height: height / 4,\n      \n    },\n    _body: {\n      height: height / 1.45,\n      \n    },\n    imagen: {            \n      height: 280,            \n      alignContent: 'center',\n      alignItems: 'center',\n      padding: 5\n    },\n    titulo:{\n      marginTop:5,      \n      height:50, \n      alignItems:'center',\n      paddingTop:10      \n    },\n    txt_titulo:{\n      fontSize: 25,\n      color:'#8b8b8b'      \n    },\n    txt_subtitulo:{\n      fontSize: 17,\n      color:'#8b8b8b'      \n    },\n    \n    \n    \n  });"]},"metadata":{},"sourceType":"module"}